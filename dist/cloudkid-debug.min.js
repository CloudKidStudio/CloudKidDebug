!function(e,n){function o(e,n){r.output&&r.output.append('<div class="'+e+'">'+n+"</div>")}function s(e,n){n||(n=1);for(var o="",t="",r=0;4*n>r;++r)o+="&nbsp;",4*(n-1)>r&&(t+="&nbsp;");var l="{<br />";for(var c in e)if("document"!=c&&"window"!=c&&"ownerDocument"!=c&&"view"!=c&&"target"!=c&&"currentTarget"!=c&&"originalTarget"!=c&&"explicitOriginalTarget"!=c&&"rangeParent"!=c&&"srcElement"!=c&&"relatedTarget"!=c&&"fromElement"!=c&&"toElement"!=c)switch(typeof e[c]){case"string":case"number":case"boolean":case"bool":l+=o+c+": "+e[c]+"<br />";break;case"object":l+=o+c+": "+s(e[c],n+1)+"<br />";break;case"function":l+=o+c+": (function)<br />";break;default:l+=o+c+": "+e[c]+"<br />"}return l+=t+"}"}function t(e){return"string"==typeof e?e.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/\n/g,"<br />"):"object"==typeof e?s(e):e}var r=function(){},l=e.console!==n;r.GENERAL=0,r.DEBUG=1,r.INFO=2,r.WARN=3,r.ERROR=4,r.minLogLevel=r.GENERAL,r.enabled=!0,r.output=null,r._isJSConsole=e.remote===e.console,r._NET_PORT=1025,r._isConnected=!1,r._socket=null,r._messageObj=null,r._messageQueue=null,r.connect=function(n){if(!("WebSocket"in e||"MozWebSocket"in e))return!1;e.WebSocket=WebSocket||MozWebSocket;try{var o=r._socket=new WebSocket("ws://"+n+":"+r._NET_PORT);o.onopen=c,o.onmessage=function(){},o.onclose=a,o.onerror=a,r._messageQueue=[],r._isConnected=!0}catch(s){return!1}return!0},r.disconnect=function(){r._isConnected&&(r._socket.close(),a())};var c=function(){e.onerror=i,r._messageObj={level:"session",message:""},r._socket.send(JSON.stringify(r._messageObj));for(var n=0;n<r._messageQueue.length;++n)r._socket.send(JSON.stringify(r._messageQueue[n]));r._messageQueue=null},i=function(e,o,s,t,l){var c="Error: "+e+" in "+o+" at line "+s;return t!==n&&(c+=":"+t),l&&(c+="\n"+l.stack),r.remoteLog(c,"ERROR"),!1},a=function(){e.onerror=null,r._isConnected=!1;var n=r._socket;n.onopen=null,n.onmessage=null,n.onclose=null,n.onerror=null,r._socket=null,r._messageObj=null,r._messageQueue=null};r.remoteLog=function(e,n){n||(n="GENERAL"),r._messageQueue?r._messageQueue.push({message:e,level:n}):(r._messageObj.level=n,r._messageObj.message=e,r._socket.send(JSON.stringify(r._messageObj)))},r.log=function(e){r.enabled&&(r._isConnected?r.remoteLog(e,"GENERAL"):r.minLogLevel==r.GENERAL&&l&&(console.log(r._isJSConsole?t(e):e),o("general",e)))},r.debug=function(e){r.enabled&&(r._isConnected?r.remoteLog(e,"DEBUG"):r.minLogLevel<=r.DEBUG&&l&&(console.debug(r._isJSConsole?t(e):e),o("debug",e)))},r.info=function(e){r.enabled&&(r._isConnected?r.remoteLog(e,"INFO"):r.minLogLevel<=r.INFO&&l&&(console.info(r._isJSConsole?t(e):e),o("info",e)))},r.warn=function(e){r.enabled&&(r._isConnected?r.remoteLog(e,"WARNING"):r.minLogLevel<=r.WARN&&l&&(console.warn(r._isJSConsole?t(e):e),o("warn",e)))},r.error=function(e){r.enabled&&(r._isConnected?r.remoteLog(e,"ERROR"):l&&(console.error(r._isJSConsole?t(e):e),o("error",e)))},r.assert=function(e,n){l&&r.enabled&&console.assert&&(console.assert(e,r._isJSConsole?t(n):n),e||o("error",n))},r.dir=function(e){r.minLogLevel==r.GENERAL&&l&&r.enabled&&console.dir(r._isJSConsole?t(e):e)},r.clear=function(){l&&r.enabled&&(console.clear(),r.output&&r.output.html(""))},r.trace=function(e){r.minLogLevel==r.GENERAL&&l&&r.enabled&&console.trace(r._isJSConsole?t(e):e)},e.Debug=r}(window);