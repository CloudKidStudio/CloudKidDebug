!function(e,n){function o(e,n){s.output&&s.output.append('<div class="'+e+'">'+n+"</div>")}var s=function(){},t=e.console!==n;s.GENERAL=0,s.DEBUG=1,s.INFO=2,s.WARN=3,s.ERROR=4,s.minLogLevel=s.GENERAL,s.enabled=!0,s.output=null,s._NET_PORT=1025,s._isConnected=!1,s._socket=null,s._messageObj=null,s._messageQueue=null,s.connect=function(n){if(!("WebSocket"in e||"MozWebSocket"in e))return!1;e.WebSocket=WebSocket||MozWebSocket;try{var o=s._socket=new WebSocket("ws://"+n+":"+s._NET_PORT);o.onopen=l,o.onmessage=function(){},o.onclose=u,o.onerror=u,s._messageQueue=[],s._isConnected=!0}catch(t){return!1}return!0},s.disconnect=function(){s._isConnected&&(s._socket.close(),u())};var l=function(){window.onerror=c,s._messageObj={level:"session",message:""},s._socket.send(JSON.stringify(s._messageObj));for(var e=0;e<s._messageQueue.length;++e)s._socket.send(JSON.stringify(s._messageQueue[e]));s._messageQueue=null},c=function(e,n,o){return s.remoteLog("Error: "+e+" in "+n+" at line "+o,"ERROR"),!1},u=function(){window.onerror=null,s._isConnected=!1;var e=s._socket;e.onopen=null,e.onmessage=null,e.onclose=null,e.onerror=null,s._socket=null,s._messageObj=null,s._messageQueue=null};s.remoteLog=function(e,n){n||(n="GENERAL"),s._messageQueue?s._messageQueue.push({message:e,level:n}):(s._messageObj.level=n,s._messageObj.message=e,s._socket.send(JSON.stringify(s._messageObj)))},s.log=function(e){s.enabled&&(s._isConnected?s.remoteLog(e,"GENERAL"):s.minLogLevel==s.GENERAL&&t&&(console.log(e),o("general",e)))},s.debug=function(e){s.enabled&&(s._isConnected?s.remoteLog(e,"DEBUG"):s.minLogLevel<=s.DEBUG&&t&&(console.debug(e),o("debug",e)))},s.info=function(e){s.enabled&&(s._isConnected?s.remoteLog(e,"INFO"):s.minLogLevel<=s.INFO&&t&&(console.info(e),o("info",e)))},s.warn=function(e){s.enabled&&(s._isConnected?s.remoteLog(e,"WARNING"):s.minLogLevel<=s.WARN&&t&&(console.warn(e),o("warn",e)))},s.error=function(e){s.enabled&&(s._isConnected?s.remoteLog(e,"ERROR"):t&&(console.error(e),o("error",e)))},s.assert=function(e,n){t&&s.enabled&&console.assert&&(console.assert(e,n),e||o("error",n))},s.dir=function(e){s.minLogLevel==s.GENERAL&&t&&s.enabled&&console.dir(e)},s.clear=function(){t&&s.enabled&&(console.clear(),s.output&&s.output.html(""))},s.trace=function(e){s.minLogLevel==s.GENERAL&&t&&s.enabled&&console.trace(e)},e.Debug=s}(window);